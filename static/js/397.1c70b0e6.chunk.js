"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[397,20],{397:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var i=n(439),r=n(791),s=n(689),a=n(861),o=n(757),c=n.n(o),l=n(103);function u(){return(u=(0,a.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.W.request({url:"/trending/movie/day"});case 3:return t=e.sent,e.abrupt("return",t.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var d={link:"TrandingMovies_link__a5TC4"},h=n(700),m=n(20),v=n(184);function p(){var e=(0,r.useState)([]),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=(0,s.bx)(),c=(0,i.Z)(o,1)[0];return(0,r.useEffect)((function(){n.length||function(){return u.apply(this,arguments)}().then((function(e){return a(e)})).catch((function(e){return console.log(e)}))}),[n.length]),(0,v.jsx)("div",{className:"bacdrop",children:(0,v.jsx)("section",{style:{paddingTop:"".concat(c+10,"px")},children:(0,v.jsxs)(h.Z,{children:[(0,v.jsx)("h1",{className:d.title,children:"Trending Movies"}),!!n.length&&(0,v.jsx)(m.default,{movies:n})]})})})}},20:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var i=n(689),r=n(87),s="MovieItem_decor_img__jYn0u",a="MovieItem_linkMovie__egqNh",o="MovieItem_posterTitle__XPgb1",c="MovieItem_posterRating__xGiK3",l=n(184);function u(e){var t=e.movie,n=t.poster_path,i=t.title,r=t.vote_average,u=t.release_date;return console.log("vote_average",r.toFixed(1)),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:s,children:[(0,l.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w342/".concat(n):"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700",alt:"poster",style:{width:230,height:345},className:a}),(0,l.jsx)("div",{className:o,children:(0,l.jsx)("p",{children:i})}),(0,l.jsxs)("div",{className:c,children:[(0,l.jsxs)("p",{children:["Rating: ",r.toFixed(1)]}),(0,l.jsxs)("p",{children:["Release: ",u]})]})]})})}var d={};function h(e){var t=e.movies,n=(0,i.TH)();return console.log(t),(0,l.jsx)("ul",{className:"list_movies",children:null!==t&&void 0!==t&&t.length?null===t||void 0===t?void 0:t.map((function(e){return(0,l.jsx)("li",{className:"link",children:(0,l.jsx)(r.rU,{to:"/selectedmovie/".concat(e.id),state:{from:n},className:d.linkMovie,children:(0,l.jsx)(u,{movie:e})})},e.id)})):(0,l.jsx)("h2",{children:"No movies"})})}},103:function(e,t,n){n.d(t,{W:function(){return i}});var i=n(243).Z.create({baseURL:"https://api.themoviedb.org/3/",method:"get",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhYzY0NTBkYTE3OWZlNDIxY2Y5NzQyYWU2OWEzM2RlNCIsInN1YiI6IjY0ZGI1NWJmMDAxYmJkMDBlMzVkMzc1YyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QMhBhXm6B0N1kwqvUOCBJyHASuDqGrhcINSUolbmq0w"}})}}]);
//# sourceMappingURL=397.1c70b0e6.chunk.js.map